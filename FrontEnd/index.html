<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 
    - primary meta tags
  -->
  <title>BMU Medical Portal - home</title>
  <meta name="title" content="Doclab - home">
  <meta name="description" content="This is a madical html template made by codewithsadee">

  <!-- 
    - favicon
  -->
  <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="./assets/css/index.css">

  <!-- 
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Rubik:wght@400;500;700&display=swap"
    rel="stylesheet">

  <!-- 
    - custom css link
  -->
  <link rel="stylesheet" href="./assets/css/style.css">

  <!-- 
    - preload images
  -->
  <link rel="preload" as="image" href="./assets/images/hero-banner.png">
  <link rel="preload" as="image" href="./assets/images/hero-bg.png">

</head>

<body id="top">

  <!-- 
    - #PRELOADER
  -->

  <div class="preloader" data-preloader>
    <div class="circle"></div>
  </div>





  <!-- 
    - #HEADER
  -->

  <header class="header" data-header>
    <div class="container">

      <a href="#" class="logo">
        <img src="./assets/images/logo.svg" width="136" height="46" alt="Doclab home">
      </a>

      <nav class="navbar" data-navbar>

        <div class="navbar-top">

          <a href="#" class="logo">
            <img src="./assets/images/logo.svg" width="136" height="46" alt="Doclab home">
          </a>

          <button class="nav-close-btn" aria-label="clsoe menu" data-nav-toggler>
            <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
          </button>

        </div>

        <ul class="navbar-list">

          <li class="navbar-item">
            <a href="#" class="navbar-link title-md">Home</a>
          </li>

          <li class="navbar-item">
            <a href="#" class="navbar-link title-md">Analytics</a>
          </li>

          <li class="navbar-item">
            <a href="#" class="navbar-link title-md">History</a>
          </li>

        

          <li class="navbar-item">
            <a href="#" class="navbar-link title-md">About Us</a>
          </li>

        </ul>

        <ul class="social-list">

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-twitter"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-pinterest"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-youtube"></ion-icon>
            </a>
          </li>

        </ul>

      </nav>

      <button class="nav-open-btn" aria-label="open menu" data-nav-toggler>
        <ion-icon name="menu-outline"></ion-icon>
      </button>

      <a href="#" class="btn has-before title-md">Inventory</a>

      <div class="overlay" data-nav-toggler data-overlay></div>

    </div>
  </header>





  <main>
    <article>

      <!-- 
        - #HERO
      -->

      <section class="section hero" style="background-image: url('./assets/images/hero-bg.png')" aria-label="home">
        <div class="container">

          <div class="hero-content">

            <p class="hero-subtitle has-before" data-reveal="left">Welcome To BMU Medical Portal</p>

            <h1 class="headline-lg hero-title" data-reveal="left">
              Your Health<br>
              Our Priority.
            </h1>

            <div class="hero-card" data-reveal="left">

              <p class="title-lg card-text">
                Enter Enrollment No.
              </p>

              <div class="wrapper">

                <div class="input-wrapper title-lg">
                  <input type="text" name="enroll" id="Enrollment" class="input-field">
                </div>

                
                <button id="searchEnrollment" style="background-color: rgb(145, 148, 155); color: white; border-radius: 5px; height: 30px; width: 100px;"
                <span class="span title-md">Submit</span>
</button>



                
                

              </div>

            </div>

          </div>

          <figure class="hero-banner" data-reveal="right">
            <img src="./assets/images/hero-banner.png" width="590" height="517" loading="eager" alt="hero banner"
              class="w-100">
          </figure>

        </div>
      </section>





      <!-- 
        - #SERVICE
      -->







      <!-- 
        - #ABOUT
      -->
      <h1 class="heading-2">Medical History Record</h1>
     
       <div class="table-class">
          <table id="emp-table">
            <thead>
              <tr>
                <th col-index="1">
                  Date
                  <select class="table-filter"  onchange="filter_rows()">
                    <option value="all"></option>
                  </select>
                </th>
                <th>Enrollment Number</th>
                <th>Name</th>
                <th>Course</th>
                <th col-index="5">
                  Medicine Given
                  <select class="table-filter"  onchange="filter_rows()">
                    <option value="all"></option>
                  </select>
                </th>
                
                <th col-index="6">
                  Disease
                  <select class="table-filter" onchange="filter_rows()">
                    <option value="all" ></option>
                  </select>
                </th>
                
                <th>Symptoms</th>
                
              </tr>
            </thead>
            <tbody id="history">
              <tr>
                <td>2023-04-01</td>
                <td>200176</td>
                <td>Bhavyam Arora</td>
                <td>Btech</td>
                <td>Paracetamol</td>
                <td>Flu</td>
                <td>Fever, Headache</td>
              </tr>
            </tbody>
          </table>
        </div>
        <script>
          function updateHistory(){
          // call the api
          fetch("http://127.0.0.1:5000/students/medrec/all")
            .then(response => response.json())
            .then(data => {
              console.log(data);
              // iterate through the data
              for (var i = 0; i < data.length; i++) {
                // create a row
                var row = document.createElement("tr");
                // create a cell
                var cell = document.createElement("td");
                // add the value of date to the cell
                cell.innerHTML = data[i].date;
                // append the cell to the row
                row.appendChild(cell);
                // create a cell
                var cell = document.createElement("td");
                // add the value of Enrollment to the cell
                cell.innerHTML = data[i].enrollment;
                // append the cell to the row
                row.appendChild(cell);
                // create a cell
                var cell = document.createElement("td");
                // add the value of Name to the cell
                cell.innerHTML = data[i].name;
                // append the cell to the row
                row.appendChild(cell);
                // create a cell
                var cell = document.createElement("td");
                // add the value of Course to the cell
                cell.innerHTML = data[i].Course;
                // append the cell to the row
                row.appendChild(cell);
                // create a cell
                var cell = document.createElement("td");
                // add the value of Medicine to the cell
                cell.innerHTML = data[i].treatment;
                // append the cell to the row
                row.appendChild(cell);
                // create a cell
                var cell = document.createElement("td");
                // add the value of Disease to the cell
                cell.innerHTML = data[i].disease;
                // append the cell to the row
                row.appendChild(cell);
                // create a cell
                var cell = document.createElement("td");
                // add the value of Symptoms to the cell
                cell.innerHTML = data[i].symptoms;
                // append the cell to the row
                row.appendChild(cell);
                // append the row to the table
                document.getElementById("history").appendChild(row);
              }
              // call the function getUniqueValuesFromColumn
              getUniqueValuesFromColumn();
            })
            .catch(error => console.error(error))
            
          }
          updateHistory();
        </script>
      

    </article>
  </main>





  <!-- 
    - #FOOTER
  -->

  <footer class="footer" style="background-image: url('./assets/images/footer-bg.png')">
    <div class="container">

      <div class="section footer-top">

        <div class="footer-brand" data-reveal="bottom">

          <a href="#" class="logo">
            <img src="./assets/images/logo.svg" width="136" height="46" loading="lazy" alt="Doclab home">
          </a>

          <ul class="contact-list has-after">

            <li class="contact-item">

              <div class="item-icon">
                <ion-icon name="mail-open-outline"></ion-icon>
              </div>

              <div>
                <p>
                  Main Email : <a href="mailto:contact@website.com" class="contact-link">contact@&shy;website.com</a>
                </p>

                <p>
                  Inquiries : <a href="mailto:Info@mail.com" class="contact-link">Info@mail.com</a>
                </p>
              </div>

            </li>

            <li class="contact-item">

              <div class="item-icon">
                <ion-icon name="call-outline"></ion-icon>
              </div>

              <div>
                <p>
                  Office Telephone : <a href="tel:0029129102320" class="contact-link">0029129102320</a>
                </p>

                <p>
                  Mobile : <a href="tel:000232439493" class="contact-link">000 2324 39493</a>
                </p>
              </div>

            </li>

          </ul>

        </div>

        <div class="footer-list" data-reveal="bottom">

          <p class="headline-sm footer-list-title">About Us</p>

          <p class="text">
            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed
          </p>

          <address class="address">
            <ion-icon name="map-outline"></ion-icon>

            <span class="text">
              2416 Mapleview Drive <br>
              Tampa, FL 33634
            </span>
          </address>

        </div>

        <ul class="footer-list" data-reveal="bottom">

          <li>
            <p class="headline-sm footer-list-title">History</p>
          </li>

          <li>
            <a href="#" class="text footer-link">Conditions</a>
          </li>

          <li>
            <a href="#" class="text footer-link">Listing</a>
          </li>

          <li>
            <a href="#" class="text footer-link">How It Works</a>
          </li>

          <li>
            <a href="#" class="text footer-link">What We Offer</a>
          </li>

          <li>
            <a href="#" class="text footer-link">Latest News</a>
          </li>

          <li>
            <a href="#" class="text footer-link">Contact Us</a>
          </li>

        </ul>

        <ul class="footer-list" data-reveal="bottom">

          <li>
            <p class="headline-sm footer-list-title">Useful Links</p>
          </li>

          <li>
            <a href="#" class="text footer-link">Conditions</a>
          </li>

          <li>
            <a href="#" class="text footer-link">Terms of Use</a>
          </li>

          <li>
            <a href="#" class="text footer-link">Our Services</a>
          </li>

          <li>
            <a href="#" class="text footer-link">Join as a Doctor</a>
          </li>

          <li>
            <a href="#" class="text footer-link">New Guests List</a>
          </li>

          <li>
            <a href="#" class="text footer-link">The Team List</a>
          </li>

        </ul>

        <div class="footer-list" data-reveal="bottom">

          <p class="headline-sm footer-list-title">Subscribe</p>

          <form action="" class="footer-form">
            <input type="email" name="email" placeholder="Email" class="input-field title-lg">

            <button type="submit" class="btn has-before title-md">Subscribe</button>
          </form>

          <p class="text">
            Get the latest updates via email. Any time you may unsubscribe
          </p>

        </div>

      </div>

      <div class="footer-bottom">

        

        <ul class="social-list">

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-twitter"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-google"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-pinterest"></ion-icon>
            </a>
          </li>

        </ul>

      </div>

    </div>
  </footer>





  <!-- 
    - #BACK TO TOP
  -->

  <a href="#top" class="back-top-btn" aria-label="back to top" data-back-top-btn>
    <ion-icon name="chevron-up"></ion-icon>
  </a>





  <!-- 
    - custom js link
  -->
  <script src="./assets/js/script.js"></script>
  <script src="./assets/js/filter.js"></script>

  <!-- 
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="./assets/js/script.js"></script>
  <!-- write a code to take the element Enrollment from id and call this api "http://127.0.0.1:5000/students/medrec/id/Enrollment". Append the value taken from Enrollment element here and call the api on submit -->
  <script>
    function fetchData() {
      // get the value of the input field with id="Enrollment"
      var Enrollment = document.getElementById("Enrollment").value;
      var api = "http://127.0.0.1:5000/student/"
      // convert the value to string
      var api = api.concat(Enrollment);
      console.log(api);
      fetch(api)
        .then(response => response.json())
        .then(data => {
          console.log(data[0]);
          // store the data in local storage with key="student"
          // clear the local storage
          localStorage.clear();
          localStorage.setItem("student", JSON.stringify(data[0]));
  
          // redirect to the page student.html
          window.location.href = "history.html";

        })
        .catch(error => console.error(error))


    }
    // add event listener to the button with id="searchEnrollment" and call the function fetchData
    document.getElementById("searchEnrollment").addEventListener("click", fetchData);

  </script>
   <script>
    window.onload = () => {
      console.log(
       document.querySelector(
          "#emp-table > tbody > tr:nth-child(1) > td:nth-child(2)"
        ).innerHTML
      );
    };

    getUniqueValuesFromColumn()
  
  </script>

</body>

</html>